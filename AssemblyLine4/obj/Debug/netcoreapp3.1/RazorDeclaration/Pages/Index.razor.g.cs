// <auto-generated/>
#pragma warning disable 1591
#pragma warning disable 0414
#pragma warning disable 0649
#pragma warning disable 0169

namespace AssemblyLine4.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using AssemblyLine4;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\_Imports.razor"
using AssemblyLine4.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\Pages\Index.razor"
using AssemblyLine4.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\Pages\Index.razor"
using AssemblyLine4.Services;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\Pages\Index.razor"
using BlazorInputFile;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\Pages\Index.razor"
using System.IO;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : OwningComponentBase<AssemblyLineServices>
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
        }
        #pragma warning restore 1998
#nullable restore
#line 253 "C:\Users\slabb\Desktop\Projects\AssemblyLine\AssemblyLine4\AssemblyLine4\Pages\Index.razor"
      
    Operation op = new Operation();
    Operation opClone = new Operation();

    Device dev = new Device();
    Device devClone = new Device();

    private List<Operation> OpList;
    private List<Device> DevList;

    string modal = "";
    public byte[] ImgUploaded { get; set; }
    bool popup = false;

    protected override async Task OnInitializedAsync()
    {
        OpList = await Service.GetOperation();
        DevList = await Service.GetDevices();
    }

    void Showpopup(string mod)
    {
        modal = mod;
        popup = true;

    }

    void Closepopup()
    {
        popup = false;
        modal = "";
    }

    public async Task SaveOp()
    {
        op.ImageData = ImgUploaded;
        Service.Insertrec(op);
        popup = false;
        op = opClone;
        await OnInitializedAsync();
    }

    public async Task SaveDev(int opid)
    {
        Service.InsertDev(dev);

        popup = false;
        dev = devClone;
        await OnInitializedAsync();
    }

    public async Task DeleteOp(int id)
    {
        Service.Deleterec(id);
        popup = false;
        await OnInitializedAsync();
    }

    void EditOp(int id)
    {
        op.ImageData = ImgUploaded;
        Service.Editrec(op, id);
        popup = false;
    }

    async Task HandleFileSelected(IFileListEntry[] files)
    {
        var file = files.FirstOrDefault();
        if (file != null)
        {
            var ms = new MemoryStream();
            await file.Data.CopyToAsync(ms);
            ImgUploaded = ms.ToArray();
        }

    }

    string convertImageToDisplay(byte[] image)
    {
        if (image != null)
        {
            var base64 = Convert.ToBase64String(image);
            var fs = string.Format("data:image/jpg;base64, {0}", base64);
            return fs;
        }
        return "";
    }

#line default
#line hidden
#nullable disable
    }
}
#pragma warning restore 1591
